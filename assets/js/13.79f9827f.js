(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{426:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"vue3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue3"}},[s._v("#")]),s._v(" Vue3")]),s._v(" "),t("p",[s._v("2020年9月18日，Vue.js发布3.0版本，代号：One Piece")]),s._v(" "),t("h2",{attrs:{id:"vue3优势"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue3优势"}},[s._v("#")]),s._v(" Vue3优势")]),s._v(" "),t("p",[t("strong",[s._v("性能提升：")])]),s._v(" "),t("ul",[t("li",[s._v("打包大小减少41%")]),s._v(" "),t("li",[s._v("初次渲染快55%，更新渲染快133%")]),s._v(" "),t("li",[s._v("内存减少54%")])]),s._v(" "),t("p",[t("strong",[s._v("源码升级：")])]),s._v(" "),t("ul",[t("li",[s._v("使用"),t("code",[s._v("Proxy")]),s._v("代替"),t("code",[s._v("defineProperty")]),s._v("实现响应式。")]),s._v(" "),t("li",[s._v("重写虚拟"),t("code",[s._v("DOM")]),s._v("的实现和"),t("code",[s._v("Tree-Shaking")])]),s._v(" "),t("li",[s._v("Vue3可以更好的支持"),t("code",[s._v("TypeScript")])])]),s._v(" "),t("p",[t("strong",[s._v("新的特性：")]),t("br"),s._v(" "),t("strong",[s._v("① Composition API（组合API）")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("setup")]),s._v("配置")]),s._v(" "),t("li",[t("code",[s._v("ref")]),s._v("与"),t("code",[s._v("reactive")])]),s._v(" "),t("li",[t("code",[s._v("watch")]),s._v("与"),t("code",[s._v("watchEffect")])]),s._v(" "),t("li",[t("code",[s._v("provide")]),s._v("与"),t("code",[s._v("inject")]),s._v(" "),t("strong",[s._v("② 新的内置组件")])]),s._v(" "),t("li",[t("code",[s._v("Fragment")])]),s._v(" "),t("li",[t("code",[s._v("Teleport")])]),s._v(" "),t("li",[t("code",[s._v("Suspense")]),s._v(" "),t("strong",[s._v("③ 其他改变")])]),s._v(" "),t("li",[s._v("新的生命周期钩子")]),s._v(" "),t("li",[s._v("data选项应始终被声明为一个"),t("strong",[s._v("函数")])]),s._v(" "),t("li",[s._v("移除"),t("code",[s._v("keyCode")]),s._v("支持作为"),t("code",[s._v("v-on")]),s._v("的修饰符")])]),s._v(" "),t("h2",{attrs:{id:"创建vue3工程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建vue3工程"}},[s._v("#")]),s._v(" 创建Vue3工程")]),s._v(" "),t("h3",{attrs:{id:"vue-cli创建工程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli创建工程"}},[s._v("#")]),s._v(" vue-cli创建工程")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查看@vue/cli版本，确保@vue/cli版本在4.5.0以上")]),s._v("\nvue "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 安装或者升级你的@vue/cli")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" @vue/cli\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 创建")]),s._v("\nvue create vue_test\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 启动")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" vue_test\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run serve\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"vite创建工程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vite创建工程"}},[s._v("#")]),s._v(" vite创建工程")]),s._v(" "),t("ul",[t("li",[s._v("vite---新一代前端构建工具")]),s._v(" "),t("li",[t("strong",[s._v("优势：")]),s._v(" ① 开发环境中，无需打包，可快速冷启动。② 轻量快速的热重载（HMR）③ 真正的按需编译，无需等待整个应用编译完成。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 创建工程")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init vite-app "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("project-name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 进入工程目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("project-name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 安装依赖")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 运行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run dev\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"vue3入口文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue3入口文件"}},[s._v("#")]),s._v(" Vue3入口文件")]),s._v(" "),t("p",[t("strong",[s._v("旧版：")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Vue "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" App "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./App.vue'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Vue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("render")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("h")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("h")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("App"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("$mount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#app'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[t("strong",[s._v("新版：")])]),s._v(" "),t("ul",[t("li",[s._v("引入的不再是Vue构造函数，而是"),t("code",[s._v("createApp")]),s._v("工厂函数。")]),s._v(" "),t("li",[s._v("创建实例对象app相当于Vue2中的vm实例对象，但app相比vm更加轻量。")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" createApp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" App "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./App.vue'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createApp")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("App"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'#app'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"常用composition-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用composition-api"}},[s._v("#")]),s._v(" 常用Composition API")]),s._v(" "),t("h3",{attrs:{id:"setup核心"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setup核心"}},[s._v("#")]),s._v(" setup核心")]),s._v(" "),t("p",[t("strong",[s._v("① 理解：Vue3中新的配置项，值为一个函数。")]),t("br"),s._v(" "),t("strong",[s._v("② setup是所有Composition API的基础。")]),t("br"),s._v(" "),t("strong",[s._v("③ 组件中所用到的：数据、方法等等，均需配置在setup中。")]),t("br"),s._v(" "),t("strong",[s._v("④ setup的两种返回值：")])]),s._v(" "),t("ul",[t("li",[s._v("若返回一个对象，则对象中的属性、方法, 在模板中均可以直接使用。（重点关注！）")])]),s._v(" "),t("div",{staticClass:"language-vue line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-vue"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token script"}},[t("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'App'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" data "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("showData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("showData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("ul",[t("li",[s._v("若返回一个渲染函数：则可以自定义渲染内容。")])]),s._v(" "),t("div",{staticClass:"language-vue line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-vue"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token script"}},[t("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" h "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'App'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("h")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'渲染标签值'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'渲染内容'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("   \n")])]),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[t("strong",[s._v("注意：")]),s._v(" "),t("br"),s._v(" "),t("strong",{staticStyle:{color:"#DD5145"}},[s._v("尽量不要将Vue2与Vue3语法混用:")])]),s._v(" "),t("ul",[t("li",[s._v("Vue2.x配置（data、methods、computed）中可以访问搭配setup中的属性和方法。")]),s._v(" "),t("li",[s._v("在setup中"),t("strong",{staticStyle:{color:"#DD5145"}},[s._v("不能访问到")]),s._v("Vue2.x配置")]),s._v(" "),t("li",[s._v("如果有重名情况，则setup优先\n"),t("strong",{staticStyle:{color:"#DD5145"}},[s._v("setup不能是一个async函数")]),s._v("，因为返回值不再是return的对象，而是promise，二模板无法查看return对象中的属性。若需要返回Promise实例，则需要Suspense和一部组件的配合使用。")])])]),t("h3",{attrs:{id:"ref函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ref函数"}},[s._v("#")]),s._v(" ref函数")]),s._v(" "),t("p",[t("strong",[s._v("作用：定义一个"),t("strong",{staticStyle:{color:"#DD5145"}},[s._v("响应式")]),s._v("的数据")]),t("br"),s._v(" "),t("strong",[s._v("语法："),t("code",[s._v("const xxx = ref(initValue)")])])]),s._v(" "),t("ul",[t("li",[s._v("创建了一个包含响应式数据")]),s._v(" "),t("li",[t("strong",{staticStyle:{color:"#DD5145"}},[s._v("JS中操作数据："),t("code",[s._v("xxx.value")])])]),s._v(" "),t("li",[s._v("模板中读取数据：不需要"),t("code",[s._v(".value")]),s._v("，直接："),t("code",[s._v("<div>"+s._s(s.xxx)+"</div>")])])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[t("strong",[s._v("备注：")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("接收的数据可以是：基本类型、对象类型。")])]),s._v(" "),t("li",[t("strong",{staticStyle:{color:"#DD5145"}},[s._v("基本类型数据：响应式依然依靠"),t("code",[s._v("Obejct.defineProperty()")]),s._v("的"),t("code",[s._v("get")]),s._v("和"),t("code",[s._v("set")]),s._v("完成。")])]),s._v(" "),t("li",[t("strong",{staticStyle:{color:"#DD5145"}},[s._v("对象类型数据：内部使用了Vue3的新函数:----"),t("code",[s._v("reactive")]),s._v("函数。即Proxy的实现")])])])]),t("h3",{attrs:{id:"reactive函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reactive函数"}},[s._v("#")]),s._v(" reactive函数")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("作用：定义一个"),t("strong",{staticStyle:{color:"#DD5145"}},[s._v("对象类型")]),s._v("的响应式数据。")])]),s._v(" "),t("li",[t("strong",[s._v("语法："),t("code",[s._v("const xxx = reactive(源对象)")]),s._v("接收一个对象（或数组），返回一个"),t("strong",{staticStyle:{color:"#DD5145"}},[s._v("代理对象（Proxy的实例对象，简称proxy对象）")])])]),s._v(" "),t("li",[t("strong",[s._v("reactive定义的响应式是深层次的。")])]),s._v(" "),t("li",[t("strong",[s._v("内部基于ES6的Proxy实现，通过代理对象操作源对象内部数据进行操作。")])])]),s._v(" "),t("h2",{attrs:{id:"vue3响应式原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue3响应式原理"}},[s._v("#")]),s._v(" Vue3响应式原理")]),s._v(" "),t("h3",{attrs:{id:"vue2-x的响应式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue2-x的响应式"}},[s._v("#")]),s._v(" Vue2.x的响应式")]),s._v(" "),t("p",[t("strong",[s._v("实现原理：")])]),s._v(" "),t("ul",[t("li",[s._v("对象类型：通过"),t("code",[s._v("Object.defineProperty()")]),s._v("对属性的读取、修改进行拦截（数据劫持）。")]),s._v(" "),t("li",[s._v("数组类型：通过重写更新数组的一系列方法来实现拦截。（对数组的变更方法进行了包裹）")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("Object"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("defineProperty")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'count'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("strong",[s._v("存在问题：")])]),s._v(" "),t("ul",[t("li",[s._v("新增属性、删除属性，界面不会更新。（需要使用"),t("code",[s._v("$set")]),s._v("和"),t("code",[s._v("$delete")]),s._v("方法）")]),s._v(" "),t("li",[s._v("直接通过下标修改数组，界面不会自动更新。(推荐使用"),t("code",[s._v("splice")]),s._v("方法)")])]),s._v(" "),t("h3",{attrs:{id:"vue3-0的响应式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue3-0的响应式"}},[s._v("#")]),s._v(" Vue3.0的响应式")])])}),[],!1,null,null,null);t.default=e.exports}}]);