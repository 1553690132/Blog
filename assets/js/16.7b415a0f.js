(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{437:function(_,t,v){"use strict";v.r(t);var s=v(2),r=Object(s.a)({},(function(){var _=this,t=_._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h2",{attrs:{id:"pm2的使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pm2的使用"}},[_._v("#")]),_._v(" PM2的使用")]),_._v(" "),t("p",[_._v("在windows中相关项目路径中启动"),t("code",[_._v("powershell")]),_._v("进行启动。")]),_._v(" "),t("ul",[t("li",[t("strong",[_._v("全局安装：")]),_._v(" "),t("code",[_._v("npm i pm2 -g")])]),_._v(" "),t("li",[t("strong",[_._v("启动项目：")]),_._v(" "),t("code",[_._v("pm2 start 脚本名 --name 自定义名称")]),_._v(" "),t("img",{attrs:{src:"/blog/img_other/PM2_1.png",alt:"启动项目"}})]),_._v(" "),t("li",[t("strong",[_._v("查看运行项目：")]),_._v(" "),t("code",[_._v("pm2 ls")]),_._v(" "),t("img",{attrs:{src:"/blog/img_other/PM2_2.png",alt:"查看运行项目"}})]),_._v(" "),t("li",[t("strong",[_._v("停止项目：")]),_._v(" "),t("code",[_._v("pm2 end 自定义名称/id值")])]),_._v(" "),t("li",[t("strong",[_._v("重启项目：")]),_._v(" "),t("code",[_._v("restart 自定义名称/id值")])]),_._v(" "),t("li",[t("strong",[_._v("删除项目：")]),_._v(" "),t("code",[_._v("delete 自定义名称/id值")]),_._v(" "),t("img",{attrs:{src:"/blog/img_other/PM2_3.png",alt:"其他命令"}})])]),_._v(" "),t("h2",{attrs:{id:"项目部署至服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目部署至服务器"}},[_._v("#")]),_._v(" 项目部署至服务器")]),_._v(" "),t("h3",{attrs:{id:"服务端代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务端代码"}},[_._v("#")]),_._v(" 服务端代码")]),_._v(" "),t("ul",[t("li",[t("strong",[_._v("首先在腾讯云的服务器的防火墙选项内，开启使用的服务器端口(eg:8889)和数据库端口(eg:3306)，进行放行。")]),_._v(" "),t("img",{attrs:{src:"/blog/img_other/fwq1.png",alt:""}})]),_._v(" "),t("li",[t("strong",[_._v("进入服务器的宝塔面板，下载PM2管理器并切换Nodejs版本至所需版本。")]),_._v(" "),t("img",{attrs:{src:"/blog/img_other/fwq2.png",alt:""}})]),_._v(" "),t("li",[t("strong",[_._v("使用xshell，进入当前的项目文件内（eg："),t("code",[_._v("www/wwwroot/server")]),_._v("）npm i 下载依赖。")])]),_._v(" "),t("li",[t("strong",[_._v("选择文件选项卡，进行服务端的代码打包上传，进行"),t("code",[_._v("app.js")]),_._v("和"),t("code",[_._v("default.json")]),_._v("的修改（修改端口地址和数据库地址）")]),_._v(" "),t("img",{attrs:{src:"/blog/img_other/fwq3.png",alt:""}}),_._v(" "),t("img",{attrs:{src:"/blog/img_other/fwq4.png",alt:""}})]),_._v(" "),t("li",[t("strong",[_._v("上传数据库并导入SQL文件。")]),_._v(" "),t("img",{attrs:{src:"/blog/img_other/fwq5.png",alt:""}})]),_._v(" "),t("li",[t("strong",[_._v("使用PM2进行项目添加。")]),_._v(" "),t("img",{attrs:{src:"/blog/img_other/fwq6.png",alt:""}})]),_._v(" "),t("li",[t("strong",[_._v("选择网站选项卡，添加站点（使用php站点）")]),_._v(" "),t("img",{attrs:{src:"/blog/img_other/fwq7.png",alt:""}})]),_._v(" "),t("li",[t("strong",[t("code",[_._v("postman")]),_._v("测试接口是否通信。")])])]),_._v(" "),t("h3",{attrs:{id:"客户端代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#客户端代码"}},[_._v("#")]),_._v(" 客户端代码")]),_._v(" "),t("ul",[t("li",[t("strong",[_._v("进行api地址的修改，修改为提供的公网地址。")])]),_._v(" "),t("li",[t("strong",[_._v("进行打包"),t("code",[_._v("npm run build")]),_._v("为"),t("code",[_._v("dist")]),_._v("文件夹。")])]),_._v(" "),t("li",[t("strong",[_._v("将文件选项卡内新生成的默认文件删除。")])]),_._v(" "),t("li",[t("strong",[_._v("上传"),t("code",[_._v("dist")]),_._v("文件至文件选项卡新生成的站点文件夹内。")])]),_._v(" "),t("li",[t("strong",[_._v("测试网站是否正常通信。")])])]),_._v(" "),t("h3",{attrs:{id:"问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[_._v("#")]),_._v(" 问题")]),_._v(" "),t("ul",[t("li",[_._v("① 使用"),t("code",[_._v("PM2")]),_._v("管理器提示"),t("code",[_._v("not commod")]),_._v("，此时需配置正确的"),t("code",[_._v("Nodejs")]),_._v("版本。")]),_._v(" "),t("li",[_._v("② "),t("code",[_._v("postman")]),_._v("测试不能正常通信，要查看"),t("code",[_._v("app.js")]),_._v("和"),t("code",[_._v("default.json")]),_._v("是否配置正确。")])])])}),[],!1,null,null,null);t.default=r.exports}}]);